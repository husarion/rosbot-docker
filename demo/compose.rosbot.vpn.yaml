# Quick Start (at fist stop ROS Master if working on host)
# $ docker compose -f compose.rosbot.hardware.yaml -f compose.rosbot.vpn.yaml up

services:

  # localization-mapping:
  #   network_mode: host
  #   ipc: host

  # navigation:
  #   network_mode: host
  #   ipc: host

  rplidar:
    network_mode: host
    ipc: host

  # bridge:
  #   network_mode: host
  #   ipc: host
  #   environment:
  #     - ROS_IP=127.0.0.1
  #     - ROS_MASTER_URI=http://127.0.0.1:11311

  # ros-master:
  #   network_mode: host
  #   ipc: host
  #   environment:
  #     - ROS_IP=127.0.0.1

  # rosbot:
  #   network_mode: host
  #   ipc: host
  #   environment:
  #     - ROS_IP=127.0.0.1
  #     - ROS_MASTER_URI=http://127.0.0.1:11311

  dds-router:
    image: husarnet/dds-router:v0.4.0
    network_mode: host
    ipc: host
    volumes:
      - ./router-config.server.yaml:/config.yaml
    # command: ddsrouter -c /config.yaml -r 10 -d
    command: >
      ddsrouter 
      --config-path /config.yaml 
      --debug